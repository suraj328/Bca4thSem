<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cookiee with form</title>
</head>

<body onload="cookieform()">
    <form action="#" name="cookieform">
        <input type="text" placeholder="enter your name" id="name">
        <br>
        <input type="text" name="email" placeholder="your email" id="email">
        <br>
        <input type="text" placeholder="your id" id="id" name="id">
        <br>
        <br>
        <button onclick="setCookie()">setCookie</button>
        <button onclick="getCookie()">getCookie</button>
    </form>
    </div>
    <script>
        // const date = new Date();
        // document.write(date);
        // var time = date.getTime();
        // var exptime = time + (24 * 7) * 60 * 60 * 1000;
        // date.setTime(exptime);
        // document.write(date);




        function setCookie() {

            // this program is for expiring cookie
            const date = new Date();
            var time = date.getTime();
            var exptime = time + (24 * 2 * 60 * 60 * 1000);
            date.setTime(exptime);

            // this program have set cookie with expiring date
            document.cookie = "name=" + document.getElementById('name').value + ";expires=" + date.toGMTString();
            document.cookie = "email=" + document.getElementById('email').value + ";expires=" + date.toGMTString();
            document.cookie = "id=" + document.cookieform.id.value + ";expires=" + date.toGMTString();

        }


        // this function is for retriving the cookie to client side
        // function getCookie() {
        //     var cookieArray = document.cookie.split(';');
        //     // console.log(cookieArray[2]);
        //     for (let i = 0; i < cookieArray.length; i++) {
        //         // console.log(cookieArray[i]);
        //         var cookieValue = cookieArray[i].split('=');
        //         console.log(cookieValue);

        //         if (cookieValue[0].trim() == 'name') {
        //             document.getElementById('name').value = cookieValue[1];

        //         } else if (cookieValue[0].trim() == 'email') {
        //             document.getElementById('email').value = cookieValue[1];

        //         } else if (cookieValue[0].trim() == 'id') {
        //             document.cookieform.id.value = cookieValue[1];

        //         }

        //     }

        // }

        // thi program works same as above retrive diferences this function load automaticaly by onload function 
        function cookieform() {

            // this  have seprated the all cookie stored in array from where ";"means here for seprating array content
            var cookieArray = document.cookie.split(';');
            // console.log(cookieArray[2]);


            // after storing in the array here we have store the array item as in value paile by spliting with "=".
            for (let i = 0; i < cookieArray.length; i++) {
                // console.log(cookieArray[i]);


                // this another split is majorly for storing the array in key value pairs so we can acess it succes
                var cookieValue = cookieArray[i].split('=');
                console.log(cookieValue);

                if (cookieValue[0].trim() == 'name') {
                    document.getElementById('name').value = cookieValue[1];

                } else if (cookieValue[0].trim() == 'email') {
                    document.getElementById('email').value = cookieValue[1];

                } else if (cookieValue[0].trim() == 'id') {
                    document.cookieform.id.value = cookieValue[1];

                }

            }

        }
    </script>
</body>

</html>